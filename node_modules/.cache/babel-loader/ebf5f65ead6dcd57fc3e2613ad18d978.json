{"ast":null,"code":"var _jsxFileName = \"F:\\\\SitePortfolio\\\\skillfond\\\\metaplex\\\\js\\\\packages\\\\candy-machine-ui\\\\src\\\\Home.tsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useMemo, useState, useCallback } from 'react';\nimport styled from 'styled-components';\nimport { Container, Snackbar, makeStyles, Box, List, ListItem, Typography } from '@material-ui/core';\nimport Paper from '@material-ui/core/Paper';\nimport Alert from '@material-ui/lab/Alert';\nimport { PublicKey } from '@solana/web3.js';\nimport { useWallet } from '@solana/wallet-adapter-react';\nimport { WalletDialogButton } from '@solana/wallet-adapter-material-ui';\nimport { awaitTransactionSignatureConfirmation, CANDY_MACHINE_PROGRAM, getCandyMachineState, mintOneToken } from './candy-machine';\nimport { Header } from './Header';\nimport { MintButton } from './MintButton';\nimport { GatewayProvider } from '@civic/solana-gateway-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ConnectButton = styled(WalletDialogButton)`\n  width: 100%;\n  height: 60px;\n  margin-top: 10px;\n  margin-bottom: 5px;\n  background: linear-gradient(180deg, #604ae5 0%, #813eee 100%);\n  color: white;\n  font-size: 16px;\n  font-weight: bold;\n`;\n_c = ConnectButton;\nconst MintContainer = styled.div``; // add your owns styles here\n\n_c2 = MintContainer;\nconst useStyles = makeStyles(theme => ({\n  home: {\n    background: \"linear-gradient(180deg,#3e2696 30%,#351e8a 0,#351e8a 70%,#472ea5 0)\",\n    color: \"#FFF\",\n    height: \"100vh\",\n    borderRadius: \"0\",\n    boxShadow: \"none\",\n    position: \"relative\",\n    [theme.breakpoints.between(\"xs\", \"sm\")]: {\n      minHeight: \"100vh\",\n      height: \"100%\"\n    }\n  },\n  box: {\n    backgroundColor: \"#1D0575\",\n    borderRadius: \"25px\",\n    position: \"absolute\",\n    height: \"calc(100vh - 200px)\",\n    top: \"50%\",\n    transform: \"translateY(-50%)\",\n    width: \"calc(100% - 32px)\",\n    [theme.breakpoints.between(\"xs\", \"sm\")]: {\n      position: \"relative\",\n      height: \"100%\",\n      width: \"100%\",\n      top: \"0\",\n      transform: \"none\"\n    }\n  },\n  listTedy: {\n    height: \"calc(100vh - 200px)\",\n    display: \"flex\",\n    [theme.breakpoints.between(\"xs\", \"sm\")]: {\n      width: \"100%\",\n      height: \"100%\",\n      flexWrap: \"wrap\"\n    }\n  },\n  imgTedy: {\n    height: \"100%\",\n    minWidth: \"250px\",\n    maxWidth: \"100%\",\n    objectFit: \"cover\",\n    borderRadius: `25px 0 0 25px`,\n    [theme.breakpoints.between(\"xs\", \"sm\")]: {\n      borderRadius: `25px 25px 0 0`,\n      width: \"100%\"\n    }\n  },\n  listInfo: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    minWidth: \"300px\"\n  },\n  \"listInfoItem:not(:last-child)\": {\n    marginBottom: \"5px\",\n    borderBottom: \"1px solid #6049b0;\"\n  },\n  buttonWall: {\n    width: \"100%\",\n    height: \"60px\",\n    marginTop: \"10px\",\n    marginBottom: \"5px\",\n    background: \"linear-gradient(180deg, #604ae5 0%, #813eee 100%)\",\n    color: \"white\",\n    fontSize: \"16px\",\n    fontWeight: \"bold\"\n  },\n  container: {\n    [theme.breakpoints.down(\"sm\")]: {\n      width: \"100%\"\n    },\n    [theme.breakpoints.up(\"md\")]: {\n      width: \"100%\"\n    },\n    [theme.breakpoints.up(\"lg\")]: {\n      width: \"960px\"\n    },\n    [theme.breakpoints.up(\"xl\")]: {\n      width: \"1200px\"\n    }\n  },\n  botText: {\n    textAlign: \"center\",\n    position: \"absolute\",\n    bottom: \"50px\",\n    left: \"50%\",\n    width: \"fit-content\",\n    transform: \"translateX(-50%)\",\n    [theme.breakpoints.between(\"xs\", \"sm\")]: {\n      position: \"relative\",\n      bottom: \"0\",\n      left: \"0\",\n      transform: \"none\",\n      marginTop: \"20px\"\n    }\n  }\n}));\n\nconst Home = props => {\n  _s();\n\n  var _candyMachine$state, _candyMachine$state$g;\n\n  const styles = useStyles();\n  const [isUserMinting, setIsUserMinting] = useState(false);\n  const [candyMachine, setCandyMachine] = useState();\n  const [alertState, setAlertState] = useState({\n    open: false,\n    message: '',\n    severity: undefined\n  });\n  const rpcUrl = props.rpcHost;\n  const wallet = useWallet();\n  const anchorWallet = useMemo(() => {\n    if (!wallet || !wallet.publicKey || !wallet.signAllTransactions || !wallet.signTransaction) {\n      return;\n    }\n\n    return {\n      publicKey: wallet.publicKey,\n      signAllTransactions: wallet.signAllTransactions,\n      signTransaction: wallet.signTransaction\n    };\n  }, [wallet]);\n  const refreshCandyMachineState = useCallback(async () => {\n    if (!anchorWallet) {\n      return;\n    }\n\n    if (props.candyMachineId) {\n      try {\n        const cndy = await getCandyMachineState(anchorWallet, props.candyMachineId, props.connection);\n        setCandyMachine(cndy);\n      } catch (e) {\n        console.log('There was a problem fetching Candy Machine state');\n        console.log(e);\n      }\n    }\n  }, [anchorWallet, props.candyMachineId, props.connection]);\n\n  const onMint = async () => {\n    try {\n      var _document$getElementB;\n\n      setIsUserMinting(true);\n      (_document$getElementB = document.getElementById('#identity')) === null || _document$getElementB === void 0 ? void 0 : _document$getElementB.click();\n\n      if (wallet.connected && candyMachine !== null && candyMachine !== void 0 && candyMachine.program && wallet.publicKey) {\n        const mintTxId = (await mintOneToken(candyMachine, wallet.publicKey))[0];\n        let status = {\n          err: true\n        };\n\n        if (mintTxId) {\n          status = await awaitTransactionSignatureConfirmation(mintTxId, props.txTimeout, props.connection, true);\n        }\n\n        if (status && !status.err) {\n          setAlertState({\n            open: true,\n            message: 'Congratulations! Mint succeeded!',\n            severity: 'success'\n          });\n        } else {\n          setAlertState({\n            open: true,\n            message: 'Mint failed! Please try again!',\n            severity: 'error'\n          });\n        }\n      }\n    } catch (error) {\n      let message = error.msg || 'Minting failed! Please try again!';\n\n      if (!error.msg) {\n        if (!error.message) {\n          message = 'Transaction Timeout! Please try again.';\n        } else if (error.message.indexOf('0x137')) {\n          message = `SOLD OUT!`;\n        } else if (error.message.indexOf('0x135')) {\n          message = `Insufficient funds to mint. Please fund your wallet.`;\n        }\n      } else {\n        if (error.code === 311) {\n          message = `SOLD OUT!`;\n          window.location.reload();\n        } else if (error.code === 312) {\n          message = `Minting period hasn't started yet.`;\n        }\n      }\n\n      setAlertState({\n        open: true,\n        message,\n        severity: 'error'\n      });\n    } finally {\n      setIsUserMinting(false);\n    }\n  };\n\n  useEffect(() => {\n    refreshCandyMachineState();\n  }, [anchorWallet, props.candyMachineId, props.connection, refreshCandyMachineState]);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    style: {\n      marginTop: 100\n    },\n    children: [/*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"xs\",\n      style: {\n        position: 'relative'\n      },\n      children: /*#__PURE__*/_jsxDEV(Paper, {\n        style: {\n          padding: 24,\n          backgroundColor: '#151A1F',\n          borderRadius: 6\n        },\n        children: !wallet.connected ? /*#__PURE__*/_jsxDEV(Paper, {\n          className: styles.home,\n          children: /*#__PURE__*/_jsxDEV(Container, {\n            maxWidth: false,\n            className: styles.container,\n            disableGutters: true,\n            style: {\n              position: \"relative\",\n              height: \"100%\",\n              padding: \"30px 16px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              className: styles.box,\n              children: /*#__PURE__*/_jsxDEV(List, {\n                className: styles.listTedy,\n                disablePadding: true,\n                children: [/*#__PURE__*/_jsxDEV(ListItem, {\n                  disableGutters: true,\n                  style: {\n                    height: \"100%\",\n                    width: \"100%\",\n                    padding: \"0\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: \"/img/tedy.jpg\",\n                    alt: \"tedy\",\n                    className: styles.imgTedy\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 290,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(ListItem, {\n                  style: {\n                    justifyContent: \"center\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(List, {\n                    className: styles.listInfo,\n                    children: [/*#__PURE__*/_jsxDEV(ListItem, {\n                      className: styles[\"listInfoItem:not(:last-child)\"],\n                      children: /*#__PURE__*/_jsxDEV(ConnectButton, {\n                        children: \"Connect Wallet\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 299,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 298,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(ListItem, {\n                      className: styles[\"listInfoItem:not(:last-child)\"],\n                      children: /*#__PURE__*/_jsxDEV(Typography, {\n                        variant: \"h6\",\n                        component: \"div\",\n                        style: {\n                          display: \"flex\",\n                          width: \"100%\"\n                        },\n                        children: [\"Price: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                          style: {\n                            marginLeft: \"auto\"\n                          },\n                          children: \"1 SOL\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 306,\n                          columnNumber: 36\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 302,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 301,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(ListItem, {\n                      className: styles[\"listInfoItem:not(:last-child)\"],\n                      children: /*#__PURE__*/_jsxDEV(Typography, {\n                        variant: \"h6\",\n                        component: \"div\",\n                        style: {\n                          display: \"flex\",\n                          width: \"100%\"\n                        },\n                        children: [\"Remaining:\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                          style: {\n                            marginLeft: \"auto\"\n                          },\n                          children: \"1 SOL\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 315,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 310,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 309,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 297,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 296,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h5\",\n              component: \"h2\",\n              className: styles.botText,\n              children: \"Please make sure you connect your SOL wallet to Mint.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Header, {\n            candyMachine: candyMachine\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(MintContainer, {\n            children: candyMachine !== null && candyMachine !== void 0 && candyMachine.state.isActive && candyMachine !== null && candyMachine !== void 0 && candyMachine.state.gatekeeper && wallet.publicKey && wallet.signTransaction ? /*#__PURE__*/_jsxDEV(GatewayProvider, {\n              wallet: {\n                publicKey: wallet.publicKey || new PublicKey(CANDY_MACHINE_PROGRAM),\n                //@ts-ignore\n                signTransaction: wallet.signTransaction\n              },\n              gatekeeperNetwork: candyMachine === null || candyMachine === void 0 ? void 0 : (_candyMachine$state = candyMachine.state) === null || _candyMachine$state === void 0 ? void 0 : (_candyMachine$state$g = _candyMachine$state.gatekeeper) === null || _candyMachine$state$g === void 0 ? void 0 : _candyMachine$state$g.gatekeeperNetwork,\n              clusterUrl: rpcUrl,\n              options: {\n                autoShowModal: false\n              },\n              children: /*#__PURE__*/_jsxDEV(MintButton, {\n                candyMachine: candyMachine,\n                isMinting: isUserMinting,\n                onMint: onMint\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(MintButton, {\n              candyMachine: candyMachine,\n              isMinting: isUserMinting,\n              onMint: onMint\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: alertState.open,\n      autoHideDuration: 6000,\n      onClose: () => setAlertState({ ...alertState,\n        open: false\n      }),\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: () => setAlertState({ ...alertState,\n          open: false\n        }),\n        severity: alertState.severity,\n        children: alertState.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 269,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Home, \"JioDa7rw7loSypwTIcnfUzmlGT0=\", false, function () {\n  return [useStyles, useWallet];\n});\n\n_c3 = Home;\nexport default Home;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"ConnectButton\");\n$RefreshReg$(_c2, \"MintContainer\");\n$RefreshReg$(_c3, \"Home\");","map":{"version":3,"sources":["F:/SitePortfolio/skillfond/metaplex/js/packages/candy-machine-ui/src/Home.tsx"],"names":["useEffect","useMemo","useState","useCallback","styled","Container","Snackbar","makeStyles","Box","List","ListItem","Typography","Paper","Alert","PublicKey","useWallet","WalletDialogButton","awaitTransactionSignatureConfirmation","CANDY_MACHINE_PROGRAM","getCandyMachineState","mintOneToken","Header","MintButton","GatewayProvider","ConnectButton","MintContainer","div","useStyles","theme","home","background","color","height","borderRadius","boxShadow","position","breakpoints","between","minHeight","box","backgroundColor","top","transform","width","listTedy","display","flexWrap","imgTedy","minWidth","maxWidth","objectFit","listInfo","flexDirection","marginBottom","borderBottom","buttonWall","marginTop","fontSize","fontWeight","container","down","up","botText","textAlign","bottom","left","Home","props","styles","isUserMinting","setIsUserMinting","candyMachine","setCandyMachine","alertState","setAlertState","open","message","severity","undefined","rpcUrl","rpcHost","wallet","anchorWallet","publicKey","signAllTransactions","signTransaction","refreshCandyMachineState","candyMachineId","cndy","connection","e","console","log","onMint","document","getElementById","click","connected","program","mintTxId","status","err","txTimeout","error","msg","indexOf","code","window","location","reload","padding","justifyContent","marginLeft","state","isActive","gatekeeper","gatekeeperNetwork","autoShowModal"],"mappings":"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","sourcesContent":["import { useEffect, useMemo, useState, useCallback } from 'react';\r\nimport * as anchor from '@project-serum/anchor';\r\n\r\nimport styled from 'styled-components';\r\nimport { Container, Snackbar, makeStyles, Box,\r\n\tList,\r\n\tListItem,\r\n\tTypography } from '@material-ui/core';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport { PublicKey } from '@solana/web3.js';\r\nimport { useWallet } from '@solana/wallet-adapter-react';\r\nimport { WalletDialogButton } from '@solana/wallet-adapter-material-ui';\r\nimport {\r\n  awaitTransactionSignatureConfirmation,\r\n  CandyMachineAccount,\r\n  CANDY_MACHINE_PROGRAM,\r\n  getCandyMachineState,\r\n  mintOneToken,\r\n} from './candy-machine';\r\nimport { AlertState } from './utils';\r\nimport { Header } from './Header';\r\nimport { MintButton } from './MintButton';\r\nimport { GatewayProvider } from '@civic/solana-gateway-react';\r\n\r\nconst ConnectButton = styled(WalletDialogButton)`\r\n  width: 100%;\r\n  height: 60px;\r\n  margin-top: 10px;\r\n  margin-bottom: 5px;\r\n  background: linear-gradient(180deg, #604ae5 0%, #813eee 100%);\r\n  color: white;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n`;\r\n\r\nconst MintContainer = styled.div``; // add your owns styles here\r\n\r\nexport interface HomeProps {\r\n  candyMachineId?: anchor.web3.PublicKey;\r\n  connection: anchor.web3.Connection;\r\n  startDate: number;\r\n  txTimeout: number;\r\n  rpcHost: string;\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\thome: {\r\n\t\tbackground:\r\n\t\t\t\"linear-gradient(180deg,#3e2696 30%,#351e8a 0,#351e8a 70%,#472ea5 0)\",\r\n\t\tcolor: \"#FFF\",\r\n\t\theight: \"100vh\",\r\n\t\tborderRadius: \"0\",\r\n\t\tboxShadow: \"none\",\r\n\t\tposition: \"relative\",\r\n\t\t[theme.breakpoints.between(\"xs\", \"sm\")]: {\r\n\t\t\tminHeight: \"100vh\",\r\n\t\t\theight: \"100%\",\r\n\t\t},\r\n\t},\r\n\tbox: {\r\n\t\tbackgroundColor: \"#1D0575\",\r\n\t\tborderRadius: \"25px\",\r\n\t\tposition: \"absolute\",\r\n\t\theight: \"calc(100vh - 200px)\",\r\n\t\ttop: \"50%\",\r\n\t\ttransform: \"translateY(-50%)\",\r\n\t\twidth: \"calc(100% - 32px)\",\r\n\t\t[theme.breakpoints.between(\"xs\", \"sm\")]: {\r\n\t\t\tposition: \"relative\",\r\n\t\t\theight: \"100%\",\r\n\t\t\twidth: \"100%\",\r\n\t\t\ttop: \"0\",\r\n\t\t\ttransform: \"none\",\r\n\t\t},\r\n\t},\r\n\tlistTedy: {\r\n\t\theight: \"calc(100vh - 200px)\",\r\n\t\tdisplay: \"flex\",\r\n\t\t[theme.breakpoints.between(\"xs\", \"sm\")]: {\r\n\t\t\twidth: \"100%\",\r\n\t\t\theight: \"100%\",\r\n\t\t\tflexWrap: \"wrap\",\r\n\t\t},\r\n\t},\r\n\timgTedy: {\r\n\t\theight: \"100%\",\r\n\t\tminWidth: \"250px\",\r\n\t\tmaxWidth: \"100%\",\r\n\t\tobjectFit: \"cover\",\r\n\t\tborderRadius: `25px 0 0 25px`,\r\n\t\t[theme.breakpoints.between(\"xs\", \"sm\")]: {\r\n\t\t\tborderRadius: `25px 25px 0 0`,\r\n\t\t\twidth: \"100%\",\r\n\t\t},\r\n\t},\r\n\tlistInfo: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\tminWidth: \"300px\",\r\n\t},\r\n\t\"listInfoItem:not(:last-child)\": {\r\n\t\tmarginBottom: \"5px\",\r\n\t\tborderBottom: \"1px solid #6049b0;\",\r\n\t},\r\n\tbuttonWall: {\r\n\t\twidth: \"100%\",\r\n\t\theight: \"60px\",\r\n\t\tmarginTop: \"10px\",\r\n\t\tmarginBottom: \"5px\",\r\n\t\tbackground: \"linear-gradient(180deg, #604ae5 0%, #813eee 100%)\",\r\n\t\tcolor: \"white\",\r\n\t\tfontSize: \"16px\",\r\n\t\tfontWeight: \"bold\",\r\n\t},\r\n\tcontainer: {\r\n\t\t[theme.breakpoints.down(\"sm\")]: {\r\n\t\t\twidth: \"100%\",\r\n\t\t},\r\n\t\t[theme.breakpoints.up(\"md\")]: {\r\n\t\t\twidth: \"100%\",\r\n\t\t},\r\n\t\t[theme.breakpoints.up(\"lg\")]: {\r\n\t\t\twidth: \"960px\",\r\n\t\t},\r\n\t\t[theme.breakpoints.up(\"xl\")]: {\r\n\t\t\twidth: \"1200px\",\r\n\t\t},\r\n\t},\r\n\tbotText: {\r\n\t\ttextAlign: \"center\",\r\n\t\tposition: \"absolute\",\r\n\t\tbottom: \"50px\",\r\n\t\tleft: \"50%\",\r\n\t\twidth: \"fit-content\",\r\n\t\ttransform: \"translateX(-50%)\",\r\n\t\t[theme.breakpoints.between(\"xs\", \"sm\")]: {\r\n\t\t\tposition: \"relative\",\r\n\t\t\tbottom: \"0\",\r\n\t\t\tleft: \"0\",\r\n\t\t\ttransform: \"none\",\r\n\t\t\tmarginTop: \"20px\",\r\n\t\t},\r\n\t},\r\n}))\r\n\r\nconst Home = (props: HomeProps) => {\r\n  const styles = useStyles()\r\n  const [isUserMinting, setIsUserMinting] = useState(false);\r\n  const [candyMachine, setCandyMachine] = useState<CandyMachineAccount>();\r\n  const [alertState, setAlertState] = useState<AlertState>({\r\n    open: false,\r\n    message: '',\r\n    severity: undefined,\r\n  });\r\n\r\n  const rpcUrl = props.rpcHost;\r\n  const wallet = useWallet();\r\n\r\n  const anchorWallet = useMemo(() => {\r\n    if (\r\n      !wallet ||\r\n      !wallet.publicKey ||\r\n      !wallet.signAllTransactions ||\r\n      !wallet.signTransaction\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    return {\r\n      publicKey: wallet.publicKey,\r\n      signAllTransactions: wallet.signAllTransactions,\r\n      signTransaction: wallet.signTransaction,\r\n    } as anchor.Wallet;\r\n  }, [wallet]);\r\n\r\n  const refreshCandyMachineState = useCallback(async () => {\r\n    if (!anchorWallet) {\r\n      return;\r\n    }\r\n\r\n    if (props.candyMachineId) {\r\n      try {\r\n        const cndy = await getCandyMachineState(\r\n          anchorWallet,\r\n          props.candyMachineId,\r\n          props.connection,\r\n        );\r\n        setCandyMachine(cndy);\r\n      } catch (e) {\r\n        console.log('There was a problem fetching Candy Machine state');\r\n        console.log(e);\r\n      }\r\n    }\r\n  }, [anchorWallet, props.candyMachineId, props.connection]);\r\n\r\n  const onMint = async () => {\r\n    try {\r\n      setIsUserMinting(true);\r\n      document.getElementById('#identity')?.click();\r\n      if (wallet.connected && candyMachine?.program && wallet.publicKey) {\r\n        const mintTxId = (\r\n          await mintOneToken(candyMachine, wallet.publicKey)\r\n        )[0];\r\n\r\n        let status: any = { err: true };\r\n        if (mintTxId) {\r\n          status = await awaitTransactionSignatureConfirmation(\r\n            mintTxId,\r\n            props.txTimeout,\r\n            props.connection,\r\n            true,\r\n          );\r\n        }\r\n\r\n        if (status && !status.err) {\r\n          setAlertState({\r\n            open: true,\r\n            message: 'Congratulations! Mint succeeded!',\r\n            severity: 'success',\r\n          });\r\n        } else {\r\n          setAlertState({\r\n            open: true,\r\n            message: 'Mint failed! Please try again!',\r\n            severity: 'error',\r\n          });\r\n        }\r\n      }\r\n    } catch (error: any) {\r\n      let message = error.msg || 'Minting failed! Please try again!';\r\n      if (!error.msg) {\r\n        if (!error.message) {\r\n          message = 'Transaction Timeout! Please try again.';\r\n        } else if (error.message.indexOf('0x137')) {\r\n          message = `SOLD OUT!`;\r\n        } else if (error.message.indexOf('0x135')) {\r\n          message = `Insufficient funds to mint. Please fund your wallet.`;\r\n        }\r\n      } else {\r\n        if (error.code === 311) {\r\n          message = `SOLD OUT!`;\r\n          window.location.reload();\r\n        } else if (error.code === 312) {\r\n          message = `Minting period hasn't started yet.`;\r\n        }\r\n      }\r\n\r\n      setAlertState({\r\n        open: true,\r\n        message,\r\n        severity: 'error',\r\n      });\r\n    } finally {\r\n      setIsUserMinting(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    refreshCandyMachineState();\r\n  }, [\r\n    anchorWallet,\r\n    props.candyMachineId,\r\n    props.connection,\r\n    refreshCandyMachineState,\r\n  ]);\r\n\r\n  return (\r\n    <Container style={{ marginTop: 100 }}>\r\n      <Container maxWidth=\"xs\" style={{ position: 'relative' }}>\r\n        <Paper\r\n          style={{ padding: 24, backgroundColor: '#151A1F', borderRadius: 6 }}\r\n        >\r\n          {!wallet.connected ? (\r\n            <Paper className={styles.home}>\r\n              <Container\r\n                maxWidth={false}\r\n                className={styles.container}\r\n                disableGutters\r\n                style={{\r\n                  position: \"relative\",\r\n                  height: \"100%\",\r\n                  padding: \"30px 16px\",\r\n                }}>\r\n                <Box className={styles.box}>\r\n                  <List className={styles.listTedy} disablePadding>\r\n                    <ListItem\r\n                      disableGutters\r\n                      style={{ height: \"100%\", width: \"100%\", padding: \"0\" }}>\r\n                      <img\r\n                        src='/img/tedy.jpg'\r\n                        alt='tedy'\r\n                        className={styles.imgTedy}\r\n                      />\r\n                    </ListItem>\r\n                    <ListItem style={{ justifyContent: \"center\" }}>\r\n                      <List className={styles.listInfo}>\r\n                        <ListItem className={styles[\"listInfoItem:not(:last-child)\"]}>\r\n                        <ConnectButton>Connect Wallet</ConnectButton>\r\n                        </ListItem>\r\n                        <ListItem className={styles[\"listInfoItem:not(:last-child)\"]}>\r\n                          <Typography\r\n                            variant='h6'\r\n                            component='div'\r\n                            style={{ display: \"flex\", width: \"100%\" }}>\r\n                            Price: <span style={{ marginLeft: \"auto\" }}>1 SOL</span>\r\n                          </Typography>\r\n                        </ListItem>\r\n                        <ListItem className={styles[\"listInfoItem:not(:last-child)\"]}>\r\n                          <Typography\r\n                            variant='h6'\r\n                            component='div'\r\n                            style={{ display: \"flex\", width: \"100%\" }}>\r\n                            Remaining:{\" \"}\r\n                            <span style={{ marginLeft: \"auto\" }}>1 SOL</span>\r\n                          </Typography>\r\n                        </ListItem>\r\n                      </List>\r\n                    </ListItem>\r\n                  </List>\r\n                </Box>\r\n                <Typography variant='h5' component='h2' className={styles.botText}>\r\n                  Please make sure you connect your SOL wallet to Mint.\r\n                </Typography>\r\n              </Container>\r\n            </Paper>\r\n          ) : (\r\n            <>\r\n              <Header candyMachine={candyMachine} />\r\n              <MintContainer>\r\n                {candyMachine?.state.isActive &&\r\n                candyMachine?.state.gatekeeper &&\r\n                wallet.publicKey &&\r\n                wallet.signTransaction ? (\r\n                  <GatewayProvider\r\n                    wallet={{\r\n                      publicKey:\r\n                        wallet.publicKey ||\r\n                        new PublicKey(CANDY_MACHINE_PROGRAM),\r\n                      //@ts-ignore\r\n                      signTransaction: wallet.signTransaction,\r\n                    }}\r\n                    gatekeeperNetwork={\r\n                      candyMachine?.state?.gatekeeper?.gatekeeperNetwork\r\n                    }\r\n                    clusterUrl={rpcUrl}\r\n                    options={{ autoShowModal: false }}\r\n                  >\r\n                    <MintButton\r\n                      candyMachine={candyMachine}\r\n                      isMinting={isUserMinting}\r\n                      onMint={onMint}\r\n                    />\r\n                  </GatewayProvider>\r\n                ) : (\r\n                  <MintButton\r\n                    candyMachine={candyMachine}\r\n                    isMinting={isUserMinting}\r\n                    onMint={onMint}\r\n                  />\r\n                )}\r\n              </MintContainer>\r\n            </>\r\n          )}\r\n        </Paper>\r\n      </Container>\r\n\r\n      <Snackbar\r\n        open={alertState.open}\r\n        autoHideDuration={6000}\r\n        onClose={() => setAlertState({ ...alertState, open: false })}\r\n      >\r\n        <Alert\r\n          onClose={() => setAlertState({ ...alertState, open: false })}\r\n          severity={alertState.severity}\r\n        >\r\n          {alertState.message}\r\n        </Alert>\r\n      </Snackbar>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}