{"ast":null,"code":"import { useCallback, useEffect } from 'react';\nimport logger from '../logger';\n\nvar useWallet = function useWallet(wallet, _ref, dispatch) {\n  var refreshIntervalId = _ref.refreshIntervalId;\n\n  /**\n   * detect a wallet disconnecting and dispatch an event\n   */\n  useEffect(function () {\n    if (!wallet || !wallet.publicKey) {\n      logger.debug('wallet disconnected');\n\n      if (refreshIntervalId) {\n        logger.debug('useEffect clearInterval', refreshIntervalId);\n        clearInterval(refreshIntervalId);\n        dispatch({\n          type: 'refresh_clear_interval'\n        });\n      }\n\n      dispatch({\n        type: 'walletDisconnected'\n      });\n    }\n  }, [wallet, refreshIntervalId]);\n  /**\n   * expect a connected wallet, throw an error if a vald wallet isn't in state\n   */\n\n  var expectWalletConnected = useCallback(function () {\n    logger.debug('expectWalletConnected', wallet);\n\n    if (!wallet || !wallet.publicKey) {\n      throw new Error('No wallet connnected');\n    }\n\n    return wallet;\n  }, [wallet]);\n  return {\n    expectWalletConnected: expectWalletConnected\n  };\n};\n\nexport default useWallet;","map":{"version":3,"sources":["F:/SitePortfolio/skillfond/metaplex/js/packages/candy-machine-ui/node_modules/@civic/solana-gateway-react/dist/esm/useHooks/useWalletHooks.js"],"names":["useCallback","useEffect","logger","useWallet","wallet","dispatch","refreshIntervalId","publicKey","debug","clearInterval","type","expectWalletConnected","Error"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,SAAtB,QAAuC,OAAvC;AACA,OAAOC,MAAP,MAAmB,WAAnB;;AACA,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,MAAD,QAAgCC,QAAhC,EAA6C;AAAA,MAAlCC,iBAAkC,QAAlCA,iBAAkC;;AAC3D;AACJ;AACA;AACIL,EAAAA,SAAS,CAAC,YAAM;AACZ,QAAI,CAACG,MAAD,IAAW,CAACA,MAAM,CAACG,SAAvB,EAAkC;AAC9BL,MAAAA,MAAM,CAACM,KAAP,CAAa,qBAAb;;AACA,UAAIF,iBAAJ,EAAuB;AACnBJ,QAAAA,MAAM,CAACM,KAAP,CAAa,yBAAb,EAAwCF,iBAAxC;AACAG,QAAAA,aAAa,CAACH,iBAAD,CAAb;AACAD,QAAAA,QAAQ,CAAC;AAAEK,UAAAA,IAAI,EAAE;AAAR,SAAD,CAAR;AACH;;AACDL,MAAAA,QAAQ,CAAC;AAAEK,QAAAA,IAAI,EAAE;AAAR,OAAD,CAAR;AACH;AACJ,GAVQ,EAUN,CAACN,MAAD,EAASE,iBAAT,CAVM,CAAT;AAWA;AACJ;AACA;;AACI,MAAMK,qBAAqB,GAAGX,WAAW,CAAC,YAAM;AAC5CE,IAAAA,MAAM,CAACM,KAAP,CAAa,uBAAb,EAAsCJ,MAAtC;;AACA,QAAI,CAACA,MAAD,IAAW,CAACA,MAAM,CAACG,SAAvB,EAAkC;AAC9B,YAAM,IAAIK,KAAJ,CAAU,sBAAV,CAAN;AACH;;AACD,WAAOR,MAAP;AACH,GANwC,EAMtC,CAACA,MAAD,CANsC,CAAzC;AAOA,SAAO;AACHO,IAAAA,qBAAqB,EAArBA;AADG,GAAP;AAGH,CA5BD;;AA6BA,eAAeR,SAAf","sourcesContent":["import { useCallback, useEffect } from 'react';\nimport logger from '../logger';\nconst useWallet = (wallet, { refreshIntervalId }, dispatch) => {\n    /**\n     * detect a wallet disconnecting and dispatch an event\n     */\n    useEffect(() => {\n        if (!wallet || !wallet.publicKey) {\n            logger.debug('wallet disconnected');\n            if (refreshIntervalId) {\n                logger.debug('useEffect clearInterval', refreshIntervalId);\n                clearInterval(refreshIntervalId);\n                dispatch({ type: 'refresh_clear_interval' });\n            }\n            dispatch({ type: 'walletDisconnected' });\n        }\n    }, [wallet, refreshIntervalId]);\n    /**\n     * expect a connected wallet, throw an error if a vald wallet isn't in state\n     */\n    const expectWalletConnected = useCallback(() => {\n        logger.debug('expectWalletConnected', wallet);\n        if (!wallet || !wallet.publicKey) {\n            throw new Error('No wallet connnected');\n        }\n        return wallet;\n    }, [wallet]);\n    return {\n        expectWalletConnected,\n    };\n};\nexport default useWallet;\n"]},"metadata":{},"sourceType":"module"}